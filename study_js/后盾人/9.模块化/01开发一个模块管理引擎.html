<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>

</body>
<script>
  /**
   * AMD require.js
   * CMD sea.js
   * COMMON NODE.js
   * UMD  AMD+COMMON
   */
  let module = (function () {
    // 定义模块 modules:依赖哪些模块，是一个[],action做了哪些事
    const moduleList = {} //声明容器来存储模块
    console.log(moduleList)
    function define(name, modules, action) {
      modules.map((m, i) => {
      modules[i] = moduleList[m]
    })
      moduleList[name] = action.apply(null, modules);
    }
    return {
      define
    }
  })();


  module.define('hd', [], function () {
    return {
      first(arr) {
        return arr[0]
      },
      max(arr) {
        return arr.length
      }
    }
  })

  module.define('lesson', ['hd'], function (hd) {
    let data = [1,2,3,4,5]
    console.log(hd.max(data))
  })
</script>

</html>